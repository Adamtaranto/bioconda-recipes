From 7216650c9a63eee8382e39c70ef256219389e2a5 Mon Sep 17 00:00:00 2001
From: Ilya Shlyakhter <ilya_shl@alum.mit.edu>
Date: Wed, 16 Aug 2017 06:56:34 -0400
Subject: [PATCH 2/2] added shiver_python2

---
 shiver_python2                                  | 16 ++++++++++++++++
 tools/AlignBaseFreqFiles.py                     |  2 +-
 tools/AlignMoreSeqsToPairWithMissingCoverage.py |  2 +-
 tools/AnalysePileup.py                          |  2 +-
 tools/CallConsensus.py                          |  2 +-
 tools/CheckFastaFileEquality.py                 |  2 +-
 tools/CompareTwoNumMappedBasesFiles.py          |  2 +-
 tools/ConstructBestRef.py                       |  2 +-
 tools/ConvertAlnToColourCodes.py                |  2 +-
 tools/CorrectContigs.py                         |  2 +-
 tools/FillConsensusGaps.py                      |  2 +-
 tools/FindAlignmentCoordFromSeqCoord.py         |  2 +-
 tools/FindClippingHotSpots.py                   |  2 +-
 tools/FindContaminantReadPairs.py               |  2 +-
 tools/FindNamedReadsInSortedFastq.py            |  2 +-
 tools/FindNumMappedBases.py                     |  2 +-
 tools/FindSeqsInFasta.py                        |  2 +-
 tools/LinkIdentityToCoverage.py                 |  2 +-
 tools/MergeAlignments.py                        |  2 +-
 tools/MergeBaseFreqsAndCoords.py                |  2 +-
 tools/PrintSeqLengths.py                        |  2 +-
 tools/RemoveBlankColumns.py                     |  2 +-
 tools/RemoveDivergentReads.py                   |  2 +-
 tools/RemoveEmptySeqs.py                        |  2 +-
 tools/RemoveTrailingWhitespace.py               |  2 +-
 tools/SplitFasta.py                             |  2 +-
 tools/TranslateSeqForGlobalAln.py               |  2 +-
 tools/UngapFasta.py                             |  2 +-
 28 files changed, 43 insertions(+), 27 deletions(-)
 create mode 100755 shiver_python2

diff --git a/shiver_python2 b/shiver_python2
new file mode 100755
index 0000000..aee5276
--- /dev/null
+++ b/shiver_python2
@@ -0,0 +1,16 @@
+#!/usr/bin/env bash
+
+set -e -o pipefail
+
+MY_PYTHON2_ENV_NAME="shiver_python2_env"
+
+if conda env list | grep -w "$MY_PYTHON2_ENV_NAME" > /dev/null ; then
+    echo already have env
+else
+		conda create -y -n $MY_PYTHON2_ENV_NAME 'python<3 biopython'
+fi
+
+source activate $MY_PYTHON2_ENV_NAME
+"$@"
+source deactivate
+
diff --git a/tools/AlignBaseFreqFiles.py b/tools/AlignBaseFreqFiles.py
index ceae230..8526743 100755
--- a/tools/AlignBaseFreqFiles.py
+++ b/tools/AlignBaseFreqFiles.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
diff --git a/tools/AlignMoreSeqsToPairWithMissingCoverage.py b/tools/AlignMoreSeqsToPairWithMissingCoverage.py
index 9d21876..c5ab4cd 100755
--- a/tools/AlignMoreSeqsToPairWithMissingCoverage.py
+++ b/tools/AlignMoreSeqsToPairWithMissingCoverage.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
diff --git a/tools/AnalysePileup.py b/tools/AnalysePileup.py
index c8806d7..cb5acd8 100755
--- a/tools/AnalysePileup.py
+++ b/tools/AnalysePileup.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python2
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
diff --git a/tools/CallConsensus.py b/tools/CallConsensus.py
index ae51b35..90a9847 100755
--- a/tools/CallConsensus.py
+++ b/tools/CallConsensus.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python2
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 #
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
diff --git a/tools/CheckFastaFileEquality.py b/tools/CheckFastaFileEquality.py
index ef603fb..49086c7 100755
--- a/tools/CheckFastaFileEquality.py
+++ b/tools/CheckFastaFileEquality.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python2
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
diff --git a/tools/CompareTwoNumMappedBasesFiles.py b/tools/CompareTwoNumMappedBasesFiles.py
index c98a83c..9ab226d 100755
--- a/tools/CompareTwoNumMappedBasesFiles.py
+++ b/tools/CompareTwoNumMappedBasesFiles.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
diff --git a/tools/ConstructBestRef.py b/tools/ConstructBestRef.py
index 1fa9207..7181760 100755
--- a/tools/ConstructBestRef.py
+++ b/tools/ConstructBestRef.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python2
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
diff --git a/tools/ConvertAlnToColourCodes.py b/tools/ConvertAlnToColourCodes.py
index 9908099..1466636 100755
--- a/tools/ConvertAlnToColourCodes.py
+++ b/tools/ConvertAlnToColourCodes.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
diff --git a/tools/CorrectContigs.py b/tools/CorrectContigs.py
index e1c660a..40f5358 100755
--- a/tools/CorrectContigs.py
+++ b/tools/CorrectContigs.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk and Francois Blanquart who
diff --git a/tools/FillConsensusGaps.py b/tools/FillConsensusGaps.py
index b8c8bfc..ba93db2 100755
--- a/tools/FillConsensusGaps.py
+++ b/tools/FillConsensusGaps.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
diff --git a/tools/FindAlignmentCoordFromSeqCoord.py b/tools/FindAlignmentCoordFromSeqCoord.py
index bf207b7..cd0b363 100755
--- a/tools/FindAlignmentCoordFromSeqCoord.py
+++ b/tools/FindAlignmentCoordFromSeqCoord.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
diff --git a/tools/FindClippingHotSpots.py b/tools/FindClippingHotSpots.py
index 41cb666..c3b9cf9 100755
--- a/tools/FindClippingHotSpots.py
+++ b/tools/FindClippingHotSpots.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
diff --git a/tools/FindContaminantReadPairs.py b/tools/FindContaminantReadPairs.py
index d2c1444..58758e8 100755
--- a/tools/FindContaminantReadPairs.py
+++ b/tools/FindContaminantReadPairs.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python2
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 #
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
diff --git a/tools/FindNamedReadsInSortedFastq.py b/tools/FindNamedReadsInSortedFastq.py
index df6f2cc..2e1eb04 100755
--- a/tools/FindNamedReadsInSortedFastq.py
+++ b/tools/FindNamedReadsInSortedFastq.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python2
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 #
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
diff --git a/tools/FindNumMappedBases.py b/tools/FindNumMappedBases.py
index 22fc4b8..19f0bdd 100755
--- a/tools/FindNumMappedBases.py
+++ b/tools/FindNumMappedBases.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
diff --git a/tools/FindSeqsInFasta.py b/tools/FindSeqsInFasta.py
index 9490c22..2a2af77 100755
--- a/tools/FindSeqsInFasta.py
+++ b/tools/FindSeqsInFasta.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
diff --git a/tools/LinkIdentityToCoverage.py b/tools/LinkIdentityToCoverage.py
index 9733663..b6e6a75 100755
--- a/tools/LinkIdentityToCoverage.py
+++ b/tools/LinkIdentityToCoverage.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
diff --git a/tools/MergeAlignments.py b/tools/MergeAlignments.py
index da9dbdb..337fed9 100755
--- a/tools/MergeAlignments.py
+++ b/tools/MergeAlignments.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python2
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
diff --git a/tools/MergeBaseFreqsAndCoords.py b/tools/MergeBaseFreqsAndCoords.py
index 970117c..ae8857c 100755
--- a/tools/MergeBaseFreqsAndCoords.py
+++ b/tools/MergeBaseFreqsAndCoords.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
diff --git a/tools/PrintSeqLengths.py b/tools/PrintSeqLengths.py
index 1c1ea7d..dcb709a 100755
--- a/tools/PrintSeqLengths.py
+++ b/tools/PrintSeqLengths.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python2
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
diff --git a/tools/RemoveBlankColumns.py b/tools/RemoveBlankColumns.py
index 6d7718c..7e99b09 100755
--- a/tools/RemoveBlankColumns.py
+++ b/tools/RemoveBlankColumns.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python2
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
diff --git a/tools/RemoveDivergentReads.py b/tools/RemoveDivergentReads.py
index 26c9daf..64623c8 100755
--- a/tools/RemoveDivergentReads.py
+++ b/tools/RemoveDivergentReads.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
diff --git a/tools/RemoveEmptySeqs.py b/tools/RemoveEmptySeqs.py
index 0c49800..a9b807f 100755
--- a/tools/RemoveEmptySeqs.py
+++ b/tools/RemoveEmptySeqs.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
diff --git a/tools/RemoveTrailingWhitespace.py b/tools/RemoveTrailingWhitespace.py
index dd51ec5..44026d6 100755
--- a/tools/RemoveTrailingWhitespace.py
+++ b/tools/RemoveTrailingWhitespace.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env shiver_python2
 
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
 ## Acknowledgement: I wrote this while funded by ERC Advanced Grant PBDR-339251
diff --git a/tools/SplitFasta.py b/tools/SplitFasta.py
index 283c8d7..48e8e33 100755
--- a/tools/SplitFasta.py
+++ b/tools/SplitFasta.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python2
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
diff --git a/tools/TranslateSeqForGlobalAln.py b/tools/TranslateSeqForGlobalAln.py
index 0a91b8f..a95e2c3 100755
--- a/tools/TranslateSeqForGlobalAln.py
+++ b/tools/TranslateSeqForGlobalAln.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
diff --git a/tools/UngapFasta.py b/tools/UngapFasta.py
index f9de675..6ec1ba5 100755
--- a/tools/UngapFasta.py
+++ b/tools/UngapFasta.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python2
+#!/usr/bin/env shiver_python2
 from __future__ import print_function
 
 ## Author: Chris Wymant, c.wymant@imperial.ac.uk
-- 
2.12.0

